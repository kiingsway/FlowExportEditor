<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flow Export Editor 0.1</title>

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/fabric.min.css">
    <script type="text/javascript" src="/eel.js"></script>
</head>

<body class="ms-bgColor-neutralPrimaryAlt">

    <div class="ms-depth-16 card-row">

        <label for="fileFlowExport" class="ms-fontSize-20 ms-fontColor-themePrimary pb-2">Escolha um arquivo zip exportado do Power Automate para editar</label>
        <button type="button" class="btn ms-bgColor-neutralDark" onclick="getExportedFlow()">Selecionar arquivo</button>


        <span id="spanFileLocation" class="ms-fontSize-20 ms-fontColor-neutralLighter pb-2"></span>


    </div>

    <div class="ms-depth-16 card-row borderSolid-1 d-none ms-borderColor-redDark" id="divWrongZip">

        <span class="ms-fontSize-20 ms-fontColor-alert pb-1">Arquivo nÃ£o identificado ðŸ˜³</span>
        <span class="ms-fontSize-20 ms-fontColor-alert pb-1 borderSolid-2 ms-borderColor-redDark p-2" id="spanResumeError"></span>
        <span class="ms-fontSize-16 pb-1">O arquivo selecionado nÃ£o possui a estrutura bÃ¡sica para a ediÃ§Ã£o do fluxo ou o arquivo estÃ¡ corrompido.</span>
        <span class="ms-fontSize-16">A estrutura:</span>
        <pre class="ms-bgColor-neutralDark p-3"><code>.
â”œâ”€â”€ manifest.json                   # Arquivo manifesto para alteraÃ§Ã£o do nome do fluxo.
â””â”€â”€ Microsoft.Flow
    â””â”€â”€ flows
        â”œâ”€â”€ ...
        â””â”€â”€ {FlowGUID}
            â”œâ”€â”€ definition.json     # DefiniÃ§Ã£o do fluxo.
            â””â”€â”€ ...
        </code></pre>


    </div>

    <div class="ms-depth-16 card-row d-none" id="divFlowEditor">

        <div>
            <span class="ms-fontSize-28 pb-2" id="spanOriginalFlowName" style="width: 80%;"></span>
            <button type="button" class="btn ms-bgColor-success ms-fontColor-black" onclick="saveFlow()" style="width: 20%;">Salvar</button>

        </div>

        <label class="d-none" for="txtDescription">DescriÃ§Ã£o</label>
        <textarea class="d-none" placeholder="DescriÃ§Ã£o para o fluxo..." id="txtDescription"></textarea>

        <label for="txtManifest">Manifesto</label>
        <textarea placeholder="Objeto do manifesto do fluxo..." id="txtManifest" disabled></textarea>

        <label for="txtDefinition">DefiniÃ§Ã£o</label>
        <textarea placeholder="Objeto da definiÃ§Ã£o do fluxo..." id="txtDefinition" disabled></textarea>
        <span id="spanDefinitionStatus"></span>

    </div>

    <div class="ms-depth-16 card-row d-none" id="divFlowActions">

        <label for="txtFlowName">Nome do fluxo</label>
        <input type="text" id="txtFlowName" placeholder="Insira um nome para o fluxo...">

        <label for="txtFlowActionsSite">Site</label>
        <input type="text" id="txtFlowActionsSite" placeholder="Insira um site...">
    </div>


</body>
<script src="js/main.js"></script>

</html>